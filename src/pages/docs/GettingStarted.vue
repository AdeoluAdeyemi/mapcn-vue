<script setup lang="ts">
import { computed } from 'vue'
import DocsSidebar from '@/components/DocsSidebar.vue'
import DocsToc from '@/components/DocsToc.vue'

const tocSections = [
  { id: 'why-mapcn', title: 'Why mapcn?' },
  { id: 'why-maplibre-directly', title: 'Why MapLibre Directly?' },
  { id: 'any-map-style', title: 'Any Map Style' },
  { id: 'features', title: 'Features' },
  { id: 'component-anatomy', title: 'Component Anatomy' },
  { id: 'map', title: 'Map' },
  { id: 'usemap', title: 'useMap' },
  { id: 'mapcontrols', title: 'MapControls' },
  { id: 'mapmarker', title: 'MapMarker' },
  { id: 'markercontent', title: 'MarkerContent' },
  { id: 'markerpopup', title: 'MarkerPopup' },
  { id: 'markertooltip', title: 'MarkerTooltip' },
  { id: 'markerlabel', title: 'MarkerLabel' },
  { id: 'mappopup', title: 'MapPopup' },
  { id: 'maproute', title: 'MapRoute' },
  { id: 'mapclusterlayer', title: 'MapClusterLayer' }
]

const gettingStartedContent = computed(() => {
  return `<div class="mt-10 space-y-10"><section class="space-y-4 scroll-mt-20"><div class="text-foreground/80 text-base sm:text-[15px] leading-7 space-y-3 [&_p]:leading-7 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-1.5 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:space-y-1.5 [&_li]:leading-7 [&_strong]:text-foreground [&_strong]:font-medium [&_em]:text-muted-foreground"><p><strong class="text-foreground">mapcn</strong> provides beautifully designed, accessible, and customizable map components. Built on <a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://maplibre.org">MapLibre GL</a>, styled with <a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://tailwindcss.com">Tailwind CSS</a>, and designed to work with <a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://www.shadcn-vue.com">shadcn-vue</a>.</p></div></section><section class="space-y-4 scroll-mt-20" id="why-mapcn"><h2 class="text-xl font-semibold tracking-tight text-foreground">Why mapcn?</h2><div class="text-foreground/80 text-base sm:text-[15px] leading-7 space-y-3 [&_p]:leading-7 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-1.5 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:space-y-1.5 [&_li]:leading-7 [&_strong]:text-foreground [&_strong]:font-medium [&_em]:text-muted-foreground"><p>There's no proper copy-paste, easy-to-use map integration for Vue. Most solutions require complex configurations, API keys, or heavy wrapper libraries. mapcn solves this:</p><ul><li><strong class="text-foreground">One Command:</strong> Run the install, get a working map. No config files, no API keys, no setup.</li><li><strong class="text-foreground">Own Your Code:</strong> Copy the components into your project. Modify anything.</li><li><strong class="text-foreground">No Wrapper Overhead:</strong> Built directly on MapLibre. Drop to the raw API whenever you need.</li><li><strong class="text-foreground">Looks Good Already:</strong> Thoughtful defaults with dark mode. Style with Tailwind as needed.</li><li><strong class="text-foreground">Works Anywhere:</strong> Bring your own tiles — MapTiler, Carto, OSM, or any MapLibre-compatible source.</li></ul></div></section><section class="space-y-4 scroll-mt-20" id="why-maplibre-directly"><h2 class="text-xl font-semibold tracking-tight text-foreground">Why MapLibre Directly?</h2><div class="text-foreground/80 text-base sm:text-[15px] leading-7 space-y-3 [&_p]:leading-7 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-1.5 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:space-y-1.5 [&_li]:leading-7 [&_strong]:text-foreground [&_strong]:font-medium [&_em]:text-muted-foreground"><p>mapcn uses <a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://maplibre.org">MapLibre</a> directly instead of wrapper libraries like <a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://visgl.github.io/react-map-gl">react-map-gl</a>. This keeps components close to the underlying API — when you copy a mapcn component, you fully own the map instance without extra framework dependencies.</p><p>UI elements like markers, popups, and tooltips are rendered via Vue Teleport, giving you complete styling freedom. You can drop down to raw MapLibre APIs anytime without "escaping" a wrapper.</p></div></section><section class="space-y-4 scroll-mt-20" id="any-map-style"><h2 class="text-xl font-semibold tracking-tight text-foreground">Any Map Style</h2><div class="text-foreground/80 text-base sm:text-[15px] leading-7 space-y-3 [&_p]:leading-7 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-1.5 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:space-y-1.5 [&_li]:leading-7 [&_strong]:text-foreground [&_strong]:font-medium [&_em]:text-muted-foreground"><p>mapcn works with any <a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://maplibre.org/maplibre-style-spec/">MapLibre-compatible tiles</a>. This means you can use tiles from virtually any provider:</p><ul><li><a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://www.maptiler.com">MapTiler</a> - Beautiful vector tiles with extensive customization options</li><li><a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://carto.com/basemaps">Carto</a> - Clean, minimal basemaps perfect for data visualization</li><li><a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://www.openstreetmap.org">OpenStreetMap</a> - Community-driven, open-source map data</li><li><a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://stadiamaps.com">Stadia Maps</a> - Fast, reliable tile hosting with multiple styles</li><li><a target="_blank" rel="noopener noreferrer" class="font-medium text-foreground underline underline-offset-4 hover:text-primary transition-colors" href="https://www.thunderforest.com">Thunderforest</a> - Specialized maps for outdoors, cycling, and transport</li><li>And any other provider that supports the MapLibre style spec</li></ul></div></section><section class="space-y-4 scroll-mt-20" id="features"><h2 class="text-xl font-semibold tracking-tight text-foreground">Features</h2><div class="text-foreground/80 text-base sm:text-[15px] leading-7 space-y-3 [&_p]:leading-7 [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:space-y-1.5 [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:space-y-1.5 [&_li]:leading-7 [&_strong]:text-foreground [&_strong]:font-medium [&_em]:text-muted-foreground"><div class="grid gap-4 sm:grid-cols-2 mt-4 not-prose"><div class="rounded-lg border bg-card p-4 space-y-2"><div class="flex items-center gap-2"><div class="flex size-8 items-center justify-center rounded-md bg-primary/10"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap size-4 text-primary" aria-hidden="true"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg></div><h3 class="font-medium text-foreground">Zero Config</h3></div><p class="text-sm text-muted-foreground">Works out of the box with free map tiles. No API keys needed.</p></div><div class="rounded-lg border bg-card p-4 space-y-2"><div class="flex items-center gap-2"><div class="flex size-8 items-center justify-center rounded-md bg-primary/10"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon size-4 text-primary" aria-hidden="true"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"></path></svg></div><h3 class="font-medium text-foreground">Theme Aware</h3></div><p class="text-sm text-muted-foreground">Automatically switches between light and dark map styles.</p></div><div class="rounded-lg border bg-card p-4 space-y-2"><div class="flex items-center gap-2"><div class="flex size-8 items-center justify-center rounded-md bg-primary/10"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-puzzle size-4 text-primary" aria-hidden="true"><path d="M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z"></path></svg></div><h3 class="font-medium text-foreground">Composable</h3></div><p class="text-sm text-muted-foreground">Build complex UIs with simple, composable components.</p></div><div class="rounded-lg border bg-card p-4 space-y-2"><div class="flex items-center gap-2"><div class="flex size-8 items-center justify-center rounded-md bg-primary/10"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code size-4 text-primary" aria-hidden="true"><path d="m16 18 6-6-6-6"></path><path d="m8 6-6 6 6 6"></path></svg></div><h3 class="font-medium text-foreground">TypeScript</h3></div><p class="text-sm text-muted-foreground">Full type safety with comprehensive TypeScript support.</p></div><div class="rounded-lg border bg-card p-4 space-y-2"><div class="flex items-center gap-2"><div class="flex size-8 items-center justify-center rounded-md bg-primary/10"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-box size-4 text-primary" aria-hidden="true"><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path><path d="m3.3 7 8.7 5 8.7-5"></path><path d="M12 22V12"></path></svg></div><h3 class="font-medium text-foreground">Copy &amp; Paste</h3></div><p class="text-sm text-muted-foreground">Own your code. No dependencies, just copy into your project.</p></div><div class="rounded-lg border bg-card p-4 space-y-2"><div class="flex items-center gap-2"><div class="flex size-8 items-center justify-center rounded-md bg-primary/10"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layers size-4 text-primary" aria-hidden="true"><path d="M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"></path><path d="M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"></path><path d="M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"></path></svg></div><h3 class="font-medium text-foreground">Any Map Style</h3></div><p class="text-sm text-muted-foreground">Use any MapLibre-compatible tiles: MapTiler, Carto, OpenStreetMap, and more.</p></div></div></div></section></div>`
})
</script>

<template>
  <div class="flex">
    <DocsSidebar />
    <div class="container py-12 flex-1">
      <div class="mx-auto max-w-3xl">
        <div class="space-y-2">
          <h1 class="text-3xl font-semibold tracking-tight text-foreground">Introduction</h1>
          <p class="text-base text-muted-foreground leading-relaxed">Beautiful, accessible map components.</p>
        </div>
        
        <div v-html="gettingStartedContent"></div>

        <div class="flex items-center justify-between gap-4 mt-14 pt-8 border-t">
          <router-link to="/docs/advanced-usage" class="group flex flex-col items-start gap-1.5">
            <span class="text-xs text-muted-foreground">Previous</span>
            <span class="text-sm font-medium group-hover:underline underline-offset-4">Advanced Usage</span>
          </router-link>
          <router-link to="/docs/installation" class="group flex flex-col items-end gap-1.5">
            <span class="text-xs text-muted-foreground">Next</span>
            <span class="text-sm font-medium group-hover:underline underline-offset-4">Installation</span>
          </router-link>
        </div>
      </div>
    </div>
    <DocsToc :sections="tocSections" />
  </div>
</template>
